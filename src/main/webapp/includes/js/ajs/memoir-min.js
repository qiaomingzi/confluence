(function(j,c){var i=Boolean(typeof history!=="undefined"&&history.pushState&&history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(navigator.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(navigator.userAgent))),m=function(){return m.nativeSupport()};m.nativeSupport=function(){return i};var a={"memoir.popstate":[],"memoir.changestate":[]};function b(o,r){for(var p=0,q=a[o],n=q.length;p<n;p++){q[p](r)}}var l={pushState:function(o,p,n){history.pushState(o,p||"",n||"");b("memoir.changestate",{state:o})},replaceState:function(o,p,n){history.replaceState(o,p||"",n||"");b("memoir.changestate",{state:o})},bind:function(n,o){if(n in a){a[n].push(o)}},state:function(){return history.state},initialState:function(n){return history.replaceState(n,"","")}};var d={pushState:function(o,p,n){if(n&&location.href!==n){location.href=n}},replaceState:function(o,p,n){if(n&&location.href!==n){location.href=n}},bind:function(n,o){},initialState:function(n){},state:function(){return null}};function k(o,n){for(var p in n){if(n.hasOwnProperty(p)){o[p]=n[p]}}}k(m,i?l:d);var f=j.onpopstate,e=("state" in history),h=location.href;j.onpopstate=function(o){if(f){f.call(this,o)}var n=!e&&location.href==h;e=true;if(!n){b("memoir.popstate",o);b("memoir.changestate",o)}};if(typeof define!=="undefined"){define("memoir",[],function(){return m})}else{var g=j.memoir;m.noConflict=g?function(){j.memoir=g;return m}:function(){delete j.memoir;return m};j.memoir=m}})(window);