AJS.html=function(a){var b=new String(a);b.isHtml=true;return b};AJS.toInit(function(b){var a={};AJS.loadTemplateScripts=function(f){f=f||document;b("script",f).each(function(){if(this.type=="text/x-template"){a[this.title]=AJS.html(this.text)}})};AJS.loadTemplateScripts();AJS.getTemplate=function(f){var g=a[f];if(!g){g=e(f,document)}return g};function e(f,g){var h=b('script[title="'+f+'"]',g);if(h.length==0){return null}a[f]=AJS.html(h[0].text);return a[f]}var d={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};AJS.escapeEntities=function(f){if(f==null){return f}if(f.isHtml){return""+f}return(""+f).replace(/[&<>'"]/g,function(g){return d[g]||g})};function c(g){var f=arguments;return g.replace(/\{(\d+)\}/g,function(k,h){var j=f[parseInt(h,10)+1];return j!=null?j:k})}AJS.renderTemplate=function(f,g){if(!AJS.getTemplate(f)){return""}if(!b.isArray(g)){g=Array.prototype.slice.call(arguments,1)}var k=AJS.getTemplate(f).toString();var j=[k];for(var h=0;h<g.length;h++){j.push(AJS.escapeEntities(g[h]))}return c.apply(this,j)};AJS.loadTemplatesFromUrl=function(f,h){var g=AJS.Meta.get("static-resource-url-prefix");if(f.indexOf("http")!=0&&f.indexOf(g)!=0){f=g+f}b.ajax({url:f,data:{locale:AJS.params.userLocale},dataType:"html",success:function(i){var j=AJS("div").append(i);AJS.loadTemplateScripts(j);h&&h()}})};AJS.loadWebResourceTemplates=function(f,h,i){var g="/download/resources/"+f+"/"+h;return this.loadTemplatesFromUrl(g,i)}});